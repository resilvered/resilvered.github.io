<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Solaris 11 Express VNC &middot; Al's Ramblings
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- JS -->
  <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52963682-1', 'auto');
  ga('send', 'pageview');

</script>

  <body class="theme-base-0b">

    <div class="sidebar">
  
    <div class="sidebar-about">
      <h1>
        <a href="">
          Al's Ramblings
        </a>
      </h1>
      <p class="lead">Automation, UNIX and other assorted random thoughts</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="">home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">archives</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/presentations/">presentations</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">tags</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      </nav>
      <div id="social-bar">
        <a href="http://www.linkedin.com/in/alanchalmers/" title="Alan Chalmers on LinkedIn" rel="me"><i class="fa fa-linkedin-square fa-2x"></i></a>
        <a href="https://github.com/bigal/" title="Alan Chalmers on GitHub" rel="me"><i class="fa fa-github-square fa-2x"></i></a> 
        <a href="https://twitter.com/bigal" title="Alan Chalmers on Twitter" rel="me"><i class="fa fa-twitter-square fa-2x"></i></a>
       <a href="https://plus.google.com/+AlanChalmers/" title="Alan Chalmers on Google+" rel="me"><i class="fa fa-google-plus-square fa-2x"></i></a> 
      <p>&copy; 2022. All rights reserved.</p>
    </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Solaris 11 Express VNC</h1>
  <span class="post-date">05 Apr 2011</span>
  <div class="css-full-post-content js-full-post-content">
<a href="http://t1.gstatic.com/images?q=tbn:ANd9GcTpH_4hdgyQirRFTXOCxZS7PMf5qV6qgTIxLrrK6OzzO9VHEuoIAA" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img style="float:left; margin:0 10px 10px 0;cursor:pointer; cursor:hand;width: 125px; height: 124px;" src="http://t1.gstatic.com/images?q=tbn:ANd9GcTpH_4hdgyQirRFTXOCxZS7PMf5qV6qgTIxLrrK6OzzO9VHEuoIAA" border="0" alt="" /></a><br />Okay , not entirely sure why yet but I though I'd like to get VNC server configured on my Solaris machines, perhaps it's with the arrival of the AppleTV 2 in the house freeing up the trusty mac mini workhorse to go back to desktop duties after the last 3+ year as a <a href="http://www.plexapp.com/">Plex app media player</a>, anyway on to the task at hand.<div><br /></div><div>The is plenty of information on the web about configuring VNC server on Solaris, most of  it misleading and of little use, especially in the context of Solaris 11 express. For the record I'm running 151a updated to SRU4 although I suspect that the SRU is of little relevance.</div><div><br /></div><div><pre>vi /etc/gdm/custom.conf<br />[xdmcp]<br />Enable=true</pre></div><div><br /></div><div>This is the only entry you need here,trust me.</div><div><br /></div><div><pre>svccfg -s xvnc-inetd<br />setprop inetd_start/exec = astring: "/usr/bin/Xvnc -geometry 1920x1200 -inetd -query localhost -once passwordFile=/home/alan/.vnc/passwd<br />setprop inetd/wait = boolean: true<br />end<br /><br /></pre>So what have we done here, change the default geometry for VNC windows because I like it a little larger, set a password file to authenticate against when I make the connection, and lastly make my VNC session persistent so when I disconnect I can just be right back to my session. A  little side not the password file is populate by running the <span class="Apple-style-span"><b>vncpasswd </b></span>command.</div><div><br /></div><div>Next we need to restart, refresh or enable the stuff we have just tampered with<br /><pre>svcadm refresh xvnc-inetd</pre></div><div>or </div><div><pre>svcadm enable xvnc-inetd</pre></div><div>if you haven't turn it on already</div><div><br /></div><div>also restart gdm</div><div><pre>svcadm restart gdm</pre></div><div>Now the two biggest issue I had one, the built in screen sharing app on the Mac only seems to like other Mac's is probably nobbled by Apple and I recall from someplace else it's outdated. So go get a VNC client that works for you on your desktop platform, I used Chcicken of VNC seemed to the job.</div><div><br /></div><div>Second problem Gnome. I would connect and the connection would crash, not sure why but running <b>gnome-cleanup</b> fixed the problem</div>
</div>
<div class="css-full-comments-content js-full-comments-content">
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/12579891299240408029">
  <div class="css-comment-name js-comment-name">
    4saken
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2011-05-18T01:50:34.234Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    Thanks, very helpful!
  </div>
  <br/>
</div>
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/03056469086382921918">
  <div class="css-comment-name js-comment-name">
    Eric Canham
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2012-02-22T19:12:09.837Z
  </div>
  </div>
  <div class="css-comment-title js-comment-title">
    hey al
for some reason when i enter
setprop inetd/...
  </div>
  <div class="css-comment-content js-comment-content">
    hey al<br />for some reason when i enter<br />setprop inetd/wait = boolean: true<br /><br />and then restart the gdm service, it crashes. changing the value back to false fixes this. any idea why this is happening?
  </div>
  <br/>
</div>
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/08832268528937656442">
  <div class="css-comment-name js-comment-name">
    Chris
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2013-01-10T22:22:54.301Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    Does this still work for you on Solaris 11.1? I can&#39;t get it to connect and I don&#39;t see it logging error anywhere.
  </div>
  <br/>
</div>
</div>

</div>
<div class="custom-social-buttons">   
  <div class="share-buttons-label">
    <span>Share with friends</span>
  </div>
  <div class="custom-social-button twitter">
    <a id="twitter-link" href="#"><i class="fa fa-twitter-square fa-2x"></i></a>
  </div>
  <div class="custom-social-button linkedin">
    <a id="linkedin-link" href="#"><i class="fa fa-linkedin-square fa-2x"></i></a>
  </div>
  <div class="custom-social-button googleplus">
    <a id="googleplus-link" href="#"><i class="fa fa-google-plus-square fa-2x"></i></a>
  </div>
    <div class="custom-social-button reddit">
    <a id="reddit-link" href="#"><i class="fa fa-reddit-square fa-2x"></i></a>
  </div>
  <script type="text/javascript">
	window.onload = function(){				
		var blogDomain = encodeURIComponent("http://www.resilvered.com");
		var pageTitleSpaces = encodeURIComponent("Solaris 11 Express VNC") + "&amp;";
		var pageID = "/2011/04/solaris-11-express-vnc";
		var pageURL = encodeURIComponent(pageID) + "&amp;";
			
		var twitterPartOne = "https://twitter.com/intent/tweet?original_referer=";
		var twitterPartTwo = "text=";
		var twitterPartThree = "tw_p=tweetbutton&amp;url=";
		var twitterPartFour = "via=bigal";
		var twitterUrl = twitterPartOne + blogDomain + pageURL + twitterPartTwo + pageTitleSpaces + twitterPartThree + blogDomain +  pageURL + twitterPartFour;
		var twitterLink = document.getElementById("twitter-link");
		twitterLink.onclick = function() {popUp=window.open(twitterUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };
		
		var linkedinPartOne = "http://www.linkedin.com/shareArticle?mini=true&url=";
		var linkedinPartTwo = "&title=";
		var linkedinPartThree = "&summary=";
		var linkedinPartFour = "&source=";
		var linkedinUrl = linkedinPartOne + blogDomain + pageURL + linkedinPartTwo + pageTitleSpaces + linkedinPartFour + "@bigal";
		var linkedInLink = document.getElementById("linkedin-link");
		linkedInLink.onclick = function() {popUp=window.open(linkedinUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };
		
		var googlePlusPartOne = "https://plus.google.com/share?url=";
		var googlePlusUrl = googlePlusPartOne + blogDomain + pageID;
		var googlePlusLink = document.getElementById("googleplus-link");
		googlePlusLink.onclick = function() {popUp=window.open(googlePlusUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };

        var redditPartOne = "http://reddit.com/submit?url=";
        var redditPartTwo = "&title=";
		var redditUrl = redditPartOne + blogDomain + pageURL + redditPartTwo + pageTitleSpaces;
		var redditLink = document.getElementById("reddit-link");
		redditLink.onclick = function() {popUp=window.open(redditUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };

	};
</script>


</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2014/08/26/Installing-Jekyll-on-CentOS-7/">
            Installing Jekyll on CentOS 7
            <small>26 Aug 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2014/08/12/HHVM-on-CentOS6/">
            Installing HHVM 3.2.0 on CentOS 6.5
            <small>12 Aug 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2014/07/28/Oracle-Linux-7-released/">
            Oracle Linux 7 released
            <small>28 Jul 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      
    </div>

  </body>
</html>
