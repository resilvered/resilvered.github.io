<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Installing OpenSolaris on X2200 from USB drive &middot; Al's Ramblings
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- JS -->
  <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52963682-1', 'auto');
  ga('send', 'pageview');

</script>

  <body class="theme-base-0b">

    <div class="sidebar">
  
    <div class="sidebar-about">
      <h1>
        <a href="">
          Al's Ramblings
        </a>
      </h1>
      <p class="lead">Automation, UNIX and other assorted random thoughts</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="">home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">archives</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/presentations/">presentations</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">tags</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      </nav>
      <div id="social-bar">
        <a href="http://www.linkedin.com/in/alanchalmers/" title="Alan Chalmers on LinkedIn" rel="me"><i class="fa fa-linkedin-square fa-2x"></i></a>
        <a href="https://github.com/bigal/" title="Alan Chalmers on GitHub" rel="me"><i class="fa fa-github-square fa-2x"></i></a> 
        <a href="https://twitter.com/bigal" title="Alan Chalmers on Twitter" rel="me"><i class="fa fa-twitter-square fa-2x"></i></a>
       <a href="https://plus.google.com/+AlanChalmers/" title="Alan Chalmers on Google+" rel="me"><i class="fa fa-google-plus-square fa-2x"></i></a> 
      <p>&copy; 2022. All rights reserved.</p>
    </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Installing OpenSolaris on X2200 from USB drive</h1>
  <span class="post-date">29 Nov 2009</span>
  <div class="css-full-post-content js-full-post-content">
I recently aquired an X2200 with no optical drive, and having had a few questions from people about USB media for <a href="http://www.opensolaris.org/">OpenSolaris</a> , where my standard answer was to download the USB image, I decided it was time I should eat my own dog food as they say and take this USB stuff out for a test drive.<br /><br />What you will need:<br /><ul><li>A USB key. I used an el cheap 1GB stick I had lying about.</li><li>An <a href="http://www.genunix.org/dist/indiana/">OpenSolaris USB image</a> I used build 127 from <a href="http://www.genunix.org/">genunix.</a> Of course you can role your own from the iso.<br /></li><li>Some way of getting the USB image on to the USB stick. For me this would be my existing OpenSolaris desktop machine.</li><li>A x86 machine capable of booting from a USB device. I my case this was a SUN a dual CPU quad core X2200</li></ul>Assuming you have the USB stick and downloaded the image I won't bore you with the details on why you can't just copy the image to the stick. Just know you can't.<br /><br />usbcopy, if you don't already have it installed you will need to install it:<br /><pre>pfexec pkg install SUNWdistro-const</pre>Next you should disable hal for the time being, see bug id 11654<br /><pre>pfexec svcadm disable hal</pre>Insert you usb key start the copy , make yourself a coffee.<br /><pre>pfexec usbcopy /Images/ISO/osol-dev-127-x86.usb<br />Found the following USB devices:<br />0:    /dev/rdsk/c19t0d0p0    3.9 GB    Generic  STORAGE DEVICE   9722<br />1:    /dev/rdsk/c19t0d1p0    <unknown> Generic    STORAGE DEVICE   9722<br />2:    /dev/rdsk/c19t0d2p0    <unknown> Generic    STORAGE DEVICE   9722<br />3:    /dev/rdsk/c19t0d3p0    <unknown> Generic    STORAGE DEVICE   9722<br />4:    /dev/rdsk/c21t0d0p0    984.0 MB    410      RamBo USB 2.0    PMAP<br />Enter the number of your choice: 4<br /><br />WARNING: All data on your USB storage will be lost.<br />Are you sure you want to install to<br />410 RamBo USB 2.0 PMAP, 984 MB at /dev/rdsk/c21t0d0p0 ?  (y/n) y<br />Copying and verifying image to USB device<br />Finished 936 MB in 1734 seconds (0.5MB/s)<br />0 block(s) re-written due to verification failure<br />Installing grub to USB device /dev/rdsk/c21t0d0s0<br />Completed copy to USB</unknown></unknown></unknown></pre>For those of you having the misfortune to still be using Windows try out <a href="http://devzone.sites.pid0.org/OpenSolaris/opensolaris-liveusb-creator">OpenSolaris Live USB Creator (Windows/.NET)</a> . Linux folk no doubt have a tool for this too and I'll leave it you you to find out.<br /><br />Ok on to the actual install. I wasted considerable time poking about the net on information about booting the X2200 from USB device. What a I found  was information like, it's too hard , doesn't work, you need to use ELOM KVM-over-IP and mount a remote image. Ergh , quiche eating Linux weenies, waste of time I should have gone with my instinct and previous, although some what limited, x86 SUN experience and just turned the thing on. Basically it just works, no fuss no hassle.<br /><br />If you do need to go poking around the ELOM and have some familiarity with SUN's other Lom devices then I'd suggest <a href="http://brandonhutchinson.com/wiki/ELOM_Notes">http://brandonhutchinson.com/wiki/ELOM_Notes</a> as a handy reference. If you do have prior experience with SUN's other LOM device's you know full well they like to make things just that little bit different on each machine just to keep you on your toes! If thats not enough information read the<a href="http://docs.sun.com/source/819-6588-14/index.html"> ELOM manual</a>.<br /><br />Getting your console. There are a couple of different ways to get your console on X2200 I choose, in part because I hadn't used it before, to use the ELOM WEB interface method. The consoles redirection in the ELOM was going to give me a virtual graphic view of the console I thought this easiest . So plug the net management port into my network and let it DHCP to find an IP, point the web browser at it, and very familiar looking SUN Microsystems management GUI, login and go to the redirection tab and locate the console redirection button. Very shortly after this I have window showing me the console and my OpenSolaris live USB image is already at a the prompt waiting for me select keyboard and language, that easy. 12 minutes later OpenSolaris installed and running.<br /><br />Now what to do with dual CPU quad core noise machine?
</div>

</div>
<div class="custom-social-buttons">   
  <div class="share-buttons-label">
    <span>Share with friends</span>
  </div>
  <div class="custom-social-button twitter">
    <a id="twitter-link" href="#"><i class="fa fa-twitter-square fa-2x"></i></a>
  </div>
  <div class="custom-social-button linkedin">
    <a id="linkedin-link" href="#"><i class="fa fa-linkedin-square fa-2x"></i></a>
  </div>
  <div class="custom-social-button googleplus">
    <a id="googleplus-link" href="#"><i class="fa fa-google-plus-square fa-2x"></i></a>
  </div>
    <div class="custom-social-button reddit">
    <a id="reddit-link" href="#"><i class="fa fa-reddit-square fa-2x"></i></a>
  </div>
  <script type="text/javascript">
	window.onload = function(){				
		var blogDomain = encodeURIComponent("http://www.resilvered.com");
		var pageTitleSpaces = encodeURIComponent("Installing OpenSolaris on X2200 from USB drive") + "&amp;";
		var pageID = "/2009/11/installing-opensolaris-on-x2200-from";
		var pageURL = encodeURIComponent(pageID) + "&amp;";
			
		var twitterPartOne = "https://twitter.com/intent/tweet?original_referer=";
		var twitterPartTwo = "text=";
		var twitterPartThree = "tw_p=tweetbutton&amp;url=";
		var twitterPartFour = "via=bigal";
		var twitterUrl = twitterPartOne + blogDomain + pageURL + twitterPartTwo + pageTitleSpaces + twitterPartThree + blogDomain +  pageURL + twitterPartFour;
		var twitterLink = document.getElementById("twitter-link");
		twitterLink.onclick = function() {popUp=window.open(twitterUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };
		
		var linkedinPartOne = "http://www.linkedin.com/shareArticle?mini=true&url=";
		var linkedinPartTwo = "&title=";
		var linkedinPartThree = "&summary=";
		var linkedinPartFour = "&source=";
		var linkedinUrl = linkedinPartOne + blogDomain + pageURL + linkedinPartTwo + pageTitleSpaces + linkedinPartFour + "@bigal";
		var linkedInLink = document.getElementById("linkedin-link");
		linkedInLink.onclick = function() {popUp=window.open(linkedinUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };
		
		var googlePlusPartOne = "https://plus.google.com/share?url=";
		var googlePlusUrl = googlePlusPartOne + blogDomain + pageID;
		var googlePlusLink = document.getElementById("googleplus-link");
		googlePlusLink.onclick = function() {popUp=window.open(googlePlusUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };

        var redditPartOne = "http://reddit.com/submit?url=";
        var redditPartTwo = "&title=";
		var redditUrl = redditPartOne + blogDomain + pageURL + redditPartTwo + pageTitleSpaces;
		var redditLink = document.getElementById("reddit-link");
		redditLink.onclick = function() {popUp=window.open(redditUrl, 'popupwindow', 'scrollbars=yes,width=600,height=400');popUp.focus();return false };

	};
</script>


</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2014/08/26/Installing-Jekyll-on-CentOS-7/">
            Installing Jekyll on CentOS 7
            <small>26 Aug 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2014/08/12/HHVM-on-CentOS6/">
            Installing HHVM 3.2.0 on CentOS 6.5
            <small>12 Aug 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2014/07/28/Oracle-Linux-7-released/">
            Oracle Linux 7 released
            <small>28 Jul 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      
    </div>

  </body>
</html>
